<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>派大星</title>
  
  <subtitle>派大星</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-05-08T13:22:01.857Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>派大星</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JavaScript高级第03天（★★★★★ - ( ･´ω`･ )建议全文背诵）</title>
    <link href="http://example.com/2022/05/08/jsadvanced03/"/>
    <id>http://example.com/2022/05/08/jsadvanced03/</id>
    <published>2022-05-08T13:17:06.404Z</published>
    <updated>2022-05-08T13:22:01.857Z</updated>
    
    <content type="html"><![CDATA[<p>目标： </p><ol><li>函数的多种定义方式</li><li><strong><font color="red">函数调用方式</font></strong></li><li><strong><font color="red">改变函数的内部this指向</font></strong></li><li>严格模式</li><li><strong><font color="red">高阶函数 - 将函数作为参数或返回值传递</font></strong></li><li><strong><font color="red">闭包</font></strong></li><li><strong><font color="red">递归</font></strong></li><li><strong><font color="red">深拷贝和浅拷贝</font></strong></li><li><span id="more"></span></li></ol><h1 id="1-函数的定义和调用-复习"><a href="#1-函数的定义和调用-复习" class="headerlink" title="1 - 函数的定义和调用 (复习)"></a>1 - 函数的定义和调用 (复习)</h1><h2 id="1-1函数的定义方式"><a href="#1-1函数的定义方式" class="headerlink" title="1.1函数的定义方式"></a>1.1函数的定义方式</h2><ol><li><p>方式1 函数声明方式 function 关键字 (命名函数)</p><p><strong>CODE01</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>方式2 函数表达式(匿名函数)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>方式3 new Function() 了解即可，不要使用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;console.log(a + b)&#x27;</span>);</span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;参数1&#x27;</span>,<span class="string">&#x27;参数2&#x27;</span>..., <span class="string">&#x27;函数体&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">注意</span></span><br><span class="line"><span class="comment">Function 里面参数都必须是字符串格式</span></span><br><span class="line"><span class="comment">第三种方式执行效率低，也不方便书写，因此较少使用</span></span><br><span class="line"><span class="comment">所有函数都是 Function 的实例(对象)  </span></span><br><span class="line"><span class="comment">函数也属于对象</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li></ol><p><strong>注意：</strong></p><ol><li><p>所有的函数都是Funtion的实例(对象)</p></li><li><p> 函数也属于对象</p></li></ol>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(f <span class="keyword">instanceof</span> <span class="title class_">Object</span>);</span><br></pre></td></tr></table></figure><p>   <img src="/2022/05/08/jsadvanced03/image-20220420161450356.png" alt="image-20220420161450356"></p><h2 id="1-2函数的调用"><a href="#1-2函数的调用" class="headerlink" title="1.2函数的调用"></a>1.2函数的调用</h2><ol><li><p>普通函数</p><p><strong>CODE02</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;&#125;</span><br><span class="line"><span class="title function_">fn</span>(); </span><br></pre></td></tr></table></figure></li><li><p>对象的方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">sayHi</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">o.<span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure></li><li><p>构造函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span> () &#123;&#125;;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Star</span>();</span><br></pre></td></tr></table></figure></li><li><p>绑定事件函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">btn.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;   <span class="comment">// 点击了按钮就可以调用这个函数</span></span><br></pre></td></tr></table></figure></li><li><p>定时器函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;, <span class="number">1000</span>);  <span class="comment">// 这个函数是定时器自动1秒钟调用一次</span></span><br></pre></td></tr></table></figure></li><li><p>立即执行函数(自调用函数)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;)();</span><br></pre></td></tr></table></figure></li></ol><h1 id="2-this"><a href="#2-this" class="headerlink" title="2 - this"></a>2 - this</h1><h2 id="2-1-函数内部的this指向（复习）"><a href="#2-1-函数内部的this指向（复习）" class="headerlink" title="2.1 函数内部的this指向（复习）"></a>2.1 函数内部的this指向（复习）</h2><blockquote><p>这些 this 的指向，是当我们调用函数的时候确定的。调用方式的不同决定了this 的指向不同</p></blockquote><p><img src="/2022/05/08/jsadvanced03/img1.png" alt="img1"></p><ol><li><p>普通函数 this 指向window</p><p><strong>CODE03</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;普通函数的this&#x27;</span> + <span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure></li><li><p>对象的方法  this指向的是对象 o</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">sayHi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;对象方法的this:&#x27;</span> + <span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">o.<span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure></li><li><p>构造函数 指向 ldh 这个实例对象 原型对象里面的this 指向的也是 ldh这个实例对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line"><span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sing</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>();</span><br></pre></td></tr></table></figure></li><li><p>绑定事件函数 this 指向的是函数的调用者 btn这个按钮对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;绑定时间函数的this:&#x27;</span> + <span class="variable language_">this</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>定时器函数  this 指向的也是window</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;定时器的this:&#x27;</span> + <span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure></li><li><p>立即执行函数 this还是指向window</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;立即执行函数的this&#x27;</span> + <span class="variable language_">this</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></li></ol><h2 id="2-2改变函数内部-this-指向"><a href="#2-2改变函数内部-this-指向" class="headerlink" title="2.2改变函数内部 this 指向"></a>2.2改变函数内部 this 指向</h2><h3 id="2-2-1-call-方法"><a href="#2-2-1-call-方法" class="headerlink" title="2.2.1 call()方法"></a>2.2.1 call()方法</h3><ol><li><p><strong>概念：</strong>调用目标函数，并修改函数运行时的this指向</p></li><li><p><strong>语法：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>.<span class="title function_">call</span>(thisArg, arg1, arg2, ...)</span><br></pre></td></tr></table></figure></li><li><p><strong>参数：</strong></p><p><code>thisArg</code>:</p><p>​        可选的。在 <em><code>function</code></em> 函数运行时使用的 <code>this</code> 值（指向对象）。请注意，<code>this</code>可能不是该方法看到的实际值：如果这个函数处于<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">非严格模式</a>下，则指定为 <code>null</code> 或 <code>undefined</code> 时会自动替换为指向全局对象，原始值会被包装。</p><p><code>arg1,arg2,arg3...</code>:</p><p>​        指定的参数列表（传递的其他参数）。</p></li><li><p><strong>返回值：</strong></p><p>​        使用调用者提供的 <code>this</code> 值和参数调用该函数的返回值。若该方法没有返回值，则返回 <code>undefined</code>。</p></li></ol><p><strong>CODE04</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;andy&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 此时的this指向的是window 运行结果为3</span></span><br><span class="line">fn.<span class="title function_">call</span>(o, <span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 此时的this指向的是对象o,参数使用逗号隔开,运行结果为3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// call主要作用是去实现继承</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span> (name, age) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age) &#123;</span><br><span class="line">    <span class="title class_">Father</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-1-2-apply-方法"><a href="#2-1-2-apply-方法" class="headerlink" title="2.1.2 apply()方法"></a>2.1.2 apply()方法</h3><ol><li><p><strong>概念：</strong><code>apply()</code> 方法调用一个具有给定<code>this</code>值的函数，以及以一个数组（或<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Indexed_collections#working_with_array-like_objects">类数组对象</a>）的形式提供的参数。</p></li><li><p><strong>语法：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.<span class="title function_">apply</span>(thisArg, [argsArray])</span><br></pre></td></tr></table></figure></li><li><p><strong>参数：</strong></p><p><code>thisArg</code>:</p><p>​        可选的。在 <em><code>function</code></em> 函数运行时使用的 <code>this</code> 值（指向对象）。请注意，<code>this</code>可能不是该方法看到的实际值：如果这个函数处于<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">非严格模式</a>下，则指定为 <code>null</code> 或 <code>undefined</code> 时会自动替换为指向全局对象，原始值会被包装。</p><p><code>argsArray</code>:</p><p>​        可选的。一个数组或者类数组对象，其中的数组元素将作为单独的参数传给 <code>func</code> 函数。如果该参数的值为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null"><code>null</code></a> 或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>，则表示不需要传入任何参数。</p></li><li><p><strong>返回值：</strong></p><p>​        使用调用者提供的 <code>this</code> 值和参数调用该函数的返回值。若该方法没有返回值，则返回 <code>undefined</code>。</p></li></ol><p><strong>CODE04</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;andy&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">fn.<span class="title function_">apply</span>(o, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// 调用了函数此时的this指向了对象o</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// apply 和call唯一区别是传参方式的不同，而这种方式有恰好可以做一些数字运算</span></span><br><span class="line"><span class="comment">// 如求数组中的最大值 - Math.max()</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">var</span> max = <span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, arr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(max)</span><br></pre></td></tr></table></figure><h3 id="2-1-3-bind-方法"><a href="#2-1-3-bind-方法" class="headerlink" title="2.1.3 bind() 方法"></a>2.1.3 bind() 方法</h3><ol><li><p><strong>概念：</strong><code>bind()</code> 方法创建一个新的函数，在 <code>bind()</code> 被调用时，这个新函数的 <code>this</code> 被指定为 <code>bind()</code> 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。</p></li><li><p><strong>语法：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>.<span class="title function_">bind</span>(thisArg, arg1, arg2, ...)</span><br></pre></td></tr></table></figure></li><li><p><strong>参数：</strong></p><p><code>thisArg</code>:</p><p>​        调用绑定函数时作为 <code>this</code> 参数传递给目标函数的值。 如果使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new"><code>new</code></a>运算符构造绑定函数，则忽略该值。当使用 <code>bind</code> 在 <code>setTimeout</code> 中创建一个函数（作为回调提供）时，作为 <code>thisArg</code> 传递的任何原始值都将转换为 <code>object</code>。</p><p><code>arg1,arg2,arg3...</code>:</p><p>​        当目标函数被调用时，被预置入绑定函数的参数列表中的参数。</p></li><li><p><strong>返回值：</strong></p><p>​        返回一个原函数的拷贝，并拥有指定的 <strong><code>this</code></strong> 值和初始参数。</p></li><li><p><strong>注意：</strong></p><ul><li>不会调用原来的函数 可以改变原来函数内部的this 指向</li><li>返回的是原函数改变this之后产生的新函数</li></ul></li><li><p><strong>使用场景：</strong></p><p>​        如果有的函数我们不需要立即调用, 但是又想改变这个函数内部的this指向此时用bind</p></li></ol><p><strong>CODE05</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;andy&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> (a, b) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> f = fn.<span class="title function_">bind</span>(o); <span class="comment">// 并不会主动执行</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="title function_">f</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure><blockquote><p>练习1： 一个按钮,当我们点击了之后,就禁用这个按钮,3秒钟之后开启这个按钮（节流操作）</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">true</span>; <span class="comment">// 指向的是按钮</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// this.disabled = false; // 定时器里的this指向的是window</span></span></span><br><span class="line"><span class="language-javascript">                that.<span class="property">disabled</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">2000</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 高级写法</span></span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">true</span>; <span class="comment">// 指向的是btn按钮</span></span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">false</span>; <span class="comment">// 定时器里的this指向的是btn</span></span></span><br><span class="line"><span class="language-javascript">            &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>), <span class="number">2000</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>思考： 如果有多个按钮，都分别设置3s延迟呢</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btns = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btns.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            btns[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>), <span class="number">2000</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-1-4-总结"><a href="#2-1-4-总结" class="headerlink" title="2.1.4 总结"></a>2.1.4 总结</h3><ul><li>共同点 : 都可以改变this指向</li><li>不同点:<ul><li>call 和 apply  会调用函数, 并且改变函数内部this指向</li><li>call 和 apply传递的参数不一样, call传递参数使用逗号隔开, apply使用数组传递</li><li>bind  不会调用函数, 可以改变函数内部this指向</li></ul></li></ul><ul><li>应用场景<ol><li>call 经常做继承. </li><li>apply经常跟数组有关系，比如借助于数学对象实现数组最大值最小值</li><li>bind  不调用函数,但是还想改变this指向，比如改变定时器内部的this指向</li></ol></li></ul><h1 id="3-严格模式（了解即可）"><a href="#3-严格模式（了解即可）" class="headerlink" title="3 - 严格模式（了解即可）"></a>3 - 严格模式（了解即可）</h1><h2 id="3-1什么是严格模式"><a href="#3-1什么是严格模式" class="headerlink" title="3.1什么是严格模式"></a>3.1什么是严格模式</h2><blockquote><p>简单来说： 严格模式消除了一些js不合理的地方，同时为了以后的发展做了一些铺垫。</p></blockquote><p>​        JavaScript 除了提供正常模式外，还提供了<strong>严格模式（strict mode）</strong>。ES5 的严格模式是采用具有限制性 JavaScript变体的一种方式，即在严格的条件下运行 JS 代码。</p><p>​        严格模式在 IE10 以上版本的浏览器中才会被支持，旧版本浏览器中会被忽略。</p><p>​        严格模式对正常的 JavaScript 语义做了一些更改： </p><ol><li><p>消除了 Javascript 语法的一些不合理、不严谨之处，减少了一些怪异行为。例如： 不声明变量直接赋值</p></li><li><p>消除代码运行的一些不安全之处，保证代码运行的安全。</p></li><li><p>提高编译器效率，增加运行速度。</p></li><li><p>禁用了在 ECMAScript 的未来版本中可能会定义的一些语法，为未来新版本的 Javascript 做好铺垫。比如一些保留字如：class,enum,export, extends, import, super 不能做变量名</p></li></ol><h2 id="3-2开启严格模式"><a href="#3-2开启严格模式" class="headerlink" title="3.2开启严格模式"></a>3.2开启严格模式</h2><p>​        严格模式可以应用到<strong>整个脚本</strong>或<strong>个别函数</strong>中。因此在使用时，我们可以将严格模式分为为脚本开启严格模式和为函数开启严格模式两种情况。</p><h3 id="3-2-1-为脚本开启严格模式"><a href="#3-2-1-为脚本开启严格模式" class="headerlink" title="3.2.1 为脚本开启严格模式"></a>3.2.1 为脚本开启严格模式</h3><p>​        有的 script 脚本是严格模式，有的 script 脚本是正常模式，这样不利于文件合并，所以可以将整个脚本文件放在一个立即执行的匿名函数之中。这样独立创建一个作用域而不影响其他 script 脚本文件。</p><p><strong>CODE06</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 为整个脚本(script标签)开启严格模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="meta"></span></span></span><br><span class="line"><span class="meta"><span class="language-javascript">    &#x27;use strict&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 下面的js 代码就会按照严格模式执行代码</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&#x27;use strict&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 在脚本的独立作用域里开启严格模式， 这样可以防止全局污染</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-2-2-为函数开启严格模式"><a href="#3-2-2-为函数开启严格模式" class="headerlink" title="3.2.2 为函数开启严格模式"></a>3.2.2 为函数开启严格模式</h3><p>​        要给某个函数开启严格模式，需要把“use strict”;  (或 ‘use strict’; ) 声明放在函数体所有语句之前。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 为某个函数开启严格模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 此时只是给fn函数开启严格模式</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="string">&#x27;use strict&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 下面的代码按照严格模式执行</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">fun</span> () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 里面的还是按照普通模式执行</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-3-严格模式中的变化"><a href="#3-3-严格模式中的变化" class="headerlink" title="3.3 严格模式中的变化"></a>3.3 严格模式中的变化</h2><p>严格模式对 Javascript 的语法和行为，都做了一些改变。</p><ol><li><p>我们的变量名必须先声明再使用</p><p><strong>CODE07</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="comment">// num = 10;</span></span><br><span class="line"><span class="comment">// console.log(num);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br></pre></td></tr></table></figure><p><img src="/2022/05/08/jsadvanced03/image-20220420175051581.png" alt="image-20220420175051581"></p></li><li><p>不能随意删除已经声明好的变量</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">delete</span> num;</span><br></pre></td></tr></table></figure><p><img src="/2022/05/08/jsadvanced03/image-20220420175028661.png" alt="image-20220420175028661"></p></li><li><p>严格模式下全局作用域中函数中的 this 是 undefined。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">// undefined。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure></li><li><p>严格模式下,如果 构造函数不加new调用, this 指向的是undefined 如果给他赋值则 会报错.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sex</span> = <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Star</span>();</span><br><span class="line"><span class="comment">// 以下是正确的使用</span></span><br><span class="line"><span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">sex</span>);</span><br></pre></td></tr></table></figure><p><img src="/2022/05/08/jsadvanced03/image-20220420175526273.png" alt="image-20220420175526273"></p></li><li><p>定时器 this 还是指向 window</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">// window</span></span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure></li><li><p>严格模式下函数里面的参数不允许有重名</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;    </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, a</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + a);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;&#125;</span><br></pre></td></tr></table></figure><p><img src="/2022/05/08/jsadvanced03/image-20220420175758886.png" alt="image-20220420175758886"></p></li></ol><h1 id="4-高阶函数-回调函数"><a href="#4-高阶函数-回调函数" class="headerlink" title="4 - 高阶函数(回调函数)"></a>4 - 高阶函数(回调函数)</h1><blockquote><ol><li>高阶函数是对其他函数进行操作的函数</li><li>它接收函数作为参数或将函数作为返回值输出</li></ol></blockquote><p><img src="/2022/05/08/jsadvanced03/image-20220420180125087.png" alt="image-20220420180125087"></p><p>此时fn 就是一个高阶函数</p><p>函数也是一种数据类型，同样可以作为参数，传递给另外一个参数使用。最典型的就是作为回调函数。</p><p>同理函数也可以作为返回值传递回来。</p><p><strong>CODE08</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 高阶函数- 函数可以作为参数传递</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, b, callback</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b);</span><br><span class="line">    callback &amp;&amp; <span class="title function_">callback</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是最后调用的&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 让div先移动，然后在变色</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;div&quot;</span>).<span class="title function_">animate</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">left</span>: <span class="number">500</span></span></span><br><span class="line"><span class="language-javascript">        &#125;, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;div&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;backgroundColor&quot;</span>, <span class="string">&quot;purple&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="5-闭包-面试必背"><a href="#5-闭包-面试必背" class="headerlink" title="5 - 闭包(面试必背)"></a>5 - 闭包(面试必背)</h1><h2 id="5-1-变量的作用域（复习）"><a href="#5-1-变量的作用域（复习）" class="headerlink" title="5.1 变量的作用域（复习）"></a>5.1 变量的作用域（复习）</h2><p>变量根据作用域的不同分为两种：全局变量和局部变量。</p><ol><li>函数内部可以使用全局变量。</li><li>函数外部不可以使用局部变量。</li><li>当函数执行完毕，本作用域内的局部变量会销毁。</li></ol><h2 id="5-2-闭包的概念"><a href="#5-2-闭包的概念" class="headerlink" title="5.2 闭包的概念"></a>5.2 闭包的概念</h2><blockquote><p>简单来说，函数嵌套函数， 有一个函数可以访问另一个的局部变量</p></blockquote><p><strong>概念：</strong>闭包（closure）指有权访问另一个函数作用域中变量的函数。简单理解就是 ，一个作用域可以访问另外一个函数内部的局部变量。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 闭包（closure）指有权访问另一个函数作用域中变量的函数。</span></span><br><span class="line"><span class="comment">// 闭包: 我们fun 这个函数作用域 访问了另外一个函数 fn 里面的局部变量 num</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fun</span> () &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">fun</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure><p><img src="/2022/05/08/jsadvanced03/image-20220420190313586.png" alt="image-20220420190313586"></p><p><img src="/2022/05/08/jsadvanced03/image-20220420190330172.png" alt="image-20220420190330172"></p><h2 id="5-3闭包的作用"><a href="#5-3闭包的作用" class="headerlink" title="5.3闭包的作用"></a>5.3闭包的作用</h2><blockquote><p>fn 函数外面的作用域可以访问 fn 内部的局部变量 - 通过<code>return</code>实现</p></blockquote><p><strong>作用：</strong>延伸变量的作用范围。</p><p><strong>特点：</strong>闭包函数执行完成后不会立即销毁，依然会占内存（这也是闭包的一个性能问题）</p><p><strong>CODE09</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">   <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(num++);</span><br><span class="line"> &#125;</span><br><span class="line">    <span class="keyword">return</span> fun;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">var</span> f = <span class="title function_">fn</span>();</span><br><span class="line"><span class="title function_">f</span>();</span><br><span class="line"><span class="comment">// f可以看作</span></span><br><span class="line"><span class="comment">// var f =  function fun() &#123;</span></span><br><span class="line"><span class="comment">// console.log(num);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者可以把fn看作是</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(num)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-4闭包的案例"><a href="#5-4闭包的案例" class="headerlink" title="5.4闭包的案例"></a>5.4闭包的案例</h2><h3 id="5-4-1-利用闭包的方式得到当前li-的索引号"><a href="#5-4-1-利用闭包的方式得到当前li-的索引号" class="headerlink" title="5.4.1 利用闭包的方式得到当前li 的索引号"></a>5.4.1 利用闭包的方式得到当前li 的索引号</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>臭豆腐<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>鲱鱼罐头<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>大猪蹄子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>方案一： 不用闭包，使用动态添加属性获取</p><p><strong>CODE10</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取li元素列表</span></span><br><span class="line"><span class="keyword">var</span> lis = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.nav&#x27;</span>).<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line"><span class="comment">// 循环列表为每一个li附上索引属性和点击事件</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    lis[i].<span class="property">index</span> = i;</span><br><span class="line">    lis[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// console.log(i);</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">index</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方案二： 利用闭包的方式得到当前小li 的索引号（立即执行函数也是闭包）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// 利用for循环创建了4个立即执行函数</span></span><br><span class="line">    <span class="comment">// 立即执行函数也是闭包，因为立即执行函数里面的任何一个函数都可以使用它的i这变量</span></span><br><span class="line">    (<span class="keyword">function</span>(<span class="params">i</span>) &#123;</span><br><span class="line">        <span class="comment">// console.log(i);</span></span><br><span class="line">        lis[i].<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-4-2-3秒钟之后-打印所有li元素的内容"><a href="#5-4-2-3秒钟之后-打印所有li元素的内容" class="headerlink" title="5.4.2 3秒钟之后,打印所有li元素的内容"></a>5.4.2 3秒钟之后,打印所有li元素的内容</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>臭豆腐<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>鲱鱼罐头<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>大猪蹄子<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>CODE11</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取li元素列表</span></span><br><span class="line"><span class="keyword">var</span> lis = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.nav&#x27;</span>).<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line"><span class="comment">// 循环列表为每一个li添加延时打印</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// 方案一： 直接写延时方法</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(lis[i].<span class="property">innerHTML</span>);</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line"><span class="comment">// 会报错，为什么？</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 方案二： 使用闭包</span></span><br><span class="line">    (<span class="keyword">function</span>(<span class="params">i</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(lis[i].<span class="property">innerHTML</span>);</span><br><span class="line">        &#125;, <span class="number">3000</span>)</span><br><span class="line">    &#125;)(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-4-3-计算打车价格"><a href="#5-4-3-计算打车价格" class="headerlink" title="5.4.3 计算打车价格"></a>5.4.3 计算打车价格</h3><blockquote><p>需求分析</p><p>打车起步价13元(3公里内)，之后每多一公里增加 5块钱，如果有拥堵情况总价格多收取10块钱拥堵费</p><p>用户输入公里数就可以计算打车价格</p></blockquote><p><strong>CODE12</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">function fn () &#123;&#125;</span></span><br><span class="line"><span class="comment">var car = fn()</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 创建计价方法</span></span><br><span class="line"><span class="keyword">var</span> car = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> start = <span class="number">13</span>; <span class="comment">// 起步价  局部变量</span></span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>; <span class="comment">// 总价  局部变量</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="comment">// 2. 正常的总价</span></span><br><span class="line">        <span class="attr">price</span>: <span class="keyword">function</span> (<span class="params">n</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n &lt;= <span class="number">3</span>) &#123;</span><br><span class="line">                total = start;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                total = start + (n - <span class="number">3</span>) * <span class="number">5</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> total;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 3. 拥堵之后的费用</span></span><br><span class="line">        <span class="attr">congestion</span>: <span class="keyword">function</span> (<span class="params">flag</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> flag ? total + <span class="number">10</span> : total;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car.<span class="title function_">price</span>(<span class="number">5</span>)); <span class="comment">// 23</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(car.<span class="title function_">congestion</span>(<span class="literal">true</span>)); <span class="comment">// 33</span></span><br></pre></td></tr></table></figure><h1 id="6-递归（笔试必会）"><a href="#6-递归（笔试必会）" class="headerlink" title="6 - 递归（笔试必会）"></a>6 - 递归（笔试必会）</h1><blockquote><p>就是函数内部调用自己本身的函数，叫递归函数</p></blockquote><h2 id="6-1-递归的概念"><a href="#6-1-递归的概念" class="headerlink" title="6.1 递归的概念"></a>6.1 递归的概念</h2><p><strong>递归：</strong>如果一个函数在<strong>内部可以调用其本身</strong>，那么这个函数就是递归函数。简单理解:函数内部自己调用自己, 这个函数就是递归函数</p><p><strong><font color="red">注意：</font>递归函数的作用和循环效果一样</strong>，由于递归很容易发生“栈溢出”错误（stack overflow），所以必须要加退出条件return。</p><p><strong>CODE13</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 递归函数 : 函数内部自己调用自己, 这个函数就是递归函数</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我要打印6句话&#x27;</span>, num);</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">6</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>; <span class="comment">// 递归里面必须加退出条件</span></span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">    <span class="title function_">fn</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure><h2 id="6-2-递归的应用"><a href="#6-2-递归的应用" class="headerlink" title="6.2 递归的应用"></a>6.2 递归的应用</h2><h3 id="6-2-1-利用递归求1-n的阶乘"><a href="#6-2-1-利用递归求1-n的阶乘" class="headerlink" title="6.2.1 利用递归求1~n的阶乘"></a>6.2.1 利用递归求1~n的阶乘</h3><blockquote><p>阶乘：n! 也就是<code>1*2*3*...n</code></p></blockquote><p><strong>CODE14</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (n === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * <span class="title function_">fn</span>(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="number">3</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 详细思路 假如用户输入的是3</span></span><br><span class="line"><span class="comment">//return  3 * fn(2)</span></span><br><span class="line"><span class="comment">//return  3 * (2 * fn(1))</span></span><br><span class="line"><span class="comment">//return  3 * (2 * 1)</span></span><br><span class="line"><span class="comment">//return  3 * (2)</span></span><br><span class="line"><span class="comment">//return  6</span></span><br></pre></td></tr></table></figure><h3 id="6-2-2-利用递归求斐波那契数列"><a href="#6-2-2-利用递归求斐波那契数列" class="headerlink" title="6.2.2 利用递归求斐波那契数列"></a>6.2.2 利用递归求斐波那契数列</h3><blockquote><p>斐波那契：前两项相加等于后一项的和，<code> 1、1、2、3、5、8、13、21...</code></p></blockquote><p><strong>CODE15</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用户输入一个数字 n 就可以求出 这个数字对应的兔子序列值</span></span><br><span class="line"><span class="comment">// 需要知道 n 的前面两项(n-1 n-2)就可以计算出 n 对应的序列值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fb</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (n === <span class="number">1</span> || n === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">fb</span>(n - <span class="number">1</span>) + <span class="title function_">fb</span>(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fb</span>(<span class="number">3</span>)); <span class="comment">// fb(1) + fb(2)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fb</span>(<span class="number">6</span>));</span><br><span class="line"><span class="comment">// fb(4) + fb(5)</span></span><br><span class="line"><span class="comment">// =&gt; fb(2) + fb(3) + fb(3) + fb(4)</span></span><br><span class="line"><span class="comment">// =&gt; fb(2) + fb(1) + fb(2) + fb(1) + fb(2) + fb (2) + fb(3)</span></span><br><span class="line"><span class="comment">// =&gt; fb(2) + fb(1) + fb(2) + fb(1) + fb(2) + fb (2) + fb(1) + fb(2)</span></span><br></pre></td></tr></table></figure><h3 id="6-2-3-利用递归遍历数据"><a href="#6-2-3-利用递归遍历数据" class="headerlink" title="6.2.3 利用递归遍历数据"></a>6.2.3 利用递归遍历数据</h3><blockquote><p>输入id号,就可以返回的对应的数据对象</p></blockquote><p><strong>CODE16</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据</span></span><br><span class="line"><span class="keyword">var</span> data = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;家电&#x27;</span>,</span><br><span class="line">        <span class="attr">goods</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">11</span>,</span><br><span class="line">                <span class="attr">gname</span>: <span class="string">&#x27;冰箱&#x27;</span>,</span><br><span class="line">                <span class="attr">goods</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">id</span>: <span class="number">111</span>,</span><br><span class="line">                        <span class="attr">gname</span>: <span class="string">&#x27;海尔&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">id</span>: <span class="number">112</span>,</span><br><span class="line">                        <span class="attr">gname</span>: <span class="string">&#x27;美的&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">12</span>,</span><br><span class="line">                <span class="attr">gname</span>: <span class="string">&#x27;洗衣机&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;服饰&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 输入id号,就可以返回的对应的数据对象</span></span><br><span class="line"><span class="comment">* @params json 大的数据对象</span></span><br><span class="line"><span class="comment">* @params id 目标id号</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* @return o id号所属的对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 1. 利用 forEach 去遍历里面的每一个对象</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getID</span>(<span class="params">json, id</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line">    <span class="comment">// 循环这个数组</span></span><br><span class="line">    json.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">        <span class="comment">// console.log(item); // 2个数组元素</span></span><br><span class="line">        <span class="keyword">if</span> (item.<span class="property">id</span> === id) &#123;</span><br><span class="line">            <span class="comment">// console.log(item);</span></span><br><span class="line">            o = item;</span><br><span class="line">            <span class="comment">// 2. 我们想要得里层K的数据 11 12 可以利用递归函数</span></span><br><span class="line">            <span class="comment">// 里面应该有goods这个数组并且数组的长度不为 0 </span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item.<span class="property">goods</span> &amp;&amp; item.<span class="property">goods</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 思考，这里遍历的数据是否是data？</span></span><br><span class="line">            o = <span class="title function_">getID</span>(item.<span class="property">goods</span>, id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getID</span>(data, <span class="number">111</span>));</span><br></pre></td></tr></table></figure><h1 id="7-浅拷贝和深拷贝"><a href="#7-浅拷贝和深拷贝" class="headerlink" title="7 - 浅拷贝和深拷贝"></a>7 - 浅拷贝和深拷贝</h1><blockquote><ol><li>浅拷贝只能拷贝一程，更深层次的对象级别只能拷贝引用地址</li><li>深拷贝拷贝多层，每一层的数据都会拷贝</li></ol></blockquote><p><strong>浅拷贝</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将obj的属性拷贝给o</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;andy&#x27;</span>,</span><br><span class="line">    <span class="attr">msg</span>: &#123;</span><br><span class="line">        <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="comment">// k 是属性名   obj[k] 属性值</span></span><br><span class="line">    o[k] = obj[k];</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o);</span><br><span class="line">o.<span class="property">msg</span>.<span class="property">age</span> = <span class="number">20</span>;</span><br><span class="line"><span class="comment">// 更深层次只拷贝了引用地址 =&gt; obj的age也会改变</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><p><strong>ES6 浅拷贝新方法 Object.assign(newData, oldData)</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(o, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o);</span><br><span class="line">o.<span class="property">msg</span>.<span class="property">age</span> = <span class="number">20</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><p><strong>深拷贝</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;andy&#x27;</span>,</span><br><span class="line">    <span class="attr">msg</span>: &#123;</span><br><span class="line">        <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;red&#x27;</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 需要拷贝每一层次，需要用到递归思想 =&gt; 封装函数并内部调用自己</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deepCopy</span>(<span class="params">newobj, oldobj</span>) &#123;</span><br><span class="line">    <span class="comment">// 循环旧对象</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> oldobj) &#123;</span><br><span class="line">        <span class="comment">// 判断我们的属性值属于那种数据类型，简单数据类型直接拷贝，引用数据类型进入下一层</span></span><br><span class="line">        <span class="comment">// 1. 获取属性值  oldobj[k]</span></span><br><span class="line">        <span class="keyword">var</span> item = oldobj[k];</span><br><span class="line">        <span class="comment">// 2. 判断这个值是否是数组</span></span><br><span class="line">        <span class="keyword">if</span> (item <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">            <span class="comment">// 先增加一个空数组</span></span><br><span class="line">            newobj[k] = [];</span><br><span class="line">            <span class="title function_">deepCopy</span>(newobj[k], item)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item <span class="keyword">instanceof</span> <span class="title class_">Object</span>) &#123;</span><br><span class="line">            <span class="comment">// 3. 判断这个值是否是对象</span></span><br><span class="line">            newobj[k] = &#123;&#125;;</span><br><span class="line">            <span class="title function_">deepCopy</span>(newobj[k], item)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 4. 属于简单数据类型</span></span><br><span class="line">            newobj[k] = item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">deepCopy</span>(o, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o);</span><br><span class="line">o.<span class="property">msg</span>.<span class="property">age</span> = <span class="number">20</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><blockquote><p>思考，为什么要把数组判断放在对象判断的上面？</p></blockquote><p><strong>总结：</strong></p><ol><li>浅拷贝只能拷贝一程，更深层次的对象级别只能拷贝引用地址</li><li>深拷贝拷贝多层，每一层的数据都会拷贝</li><li>ES6新增浅拷贝语法糖，Object.assign(newData, oldData)</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;目标： &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;函数的多种定义方式&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;函数调用方式&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;改变函数的内部this指向&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;严格模式&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;高阶函数 - 将函数作为参数或返回值传递&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;闭包&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;递归&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;深拷贝和浅拷贝&lt;/font&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;&lt;/ol&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>复习</title>
    <link href="http://example.com/2022/05/08/all/"/>
    <id>http://example.com/2022/05/08/all/</id>
    <published>2022-05-08T13:08:31.578Z</published>
    <updated>2022-05-08T13:18:22.635Z</updated>
    
    <content type="html"><![CDATA[<h5 id="元素获取"><a href="#元素获取" class="headerlink" title="元素获取"></a>元素获取</h5><p>01.getElementById(“id”)获取的是元素对象本身 或 null，不是伪数组</p><p>返回：元素对象 或null ，//对象使用节点操作获取</p><p>02.document.getElementsByTagName（“标签名”）返回值是伪数组，</p><p>返回：元素对象的集合 以伪数组形式存储     通过遍历 获取</p><p>getElementById(“id”)和document.getElementsByTagName（“标签名”）搭配使用。</p><p>因为 element.getElementsByTagName()  可以得到这个元素里面的某些标签</p><span id="more"></span><p>H5新增：</p><p>03.document.getElementsByClassName返回值是伪数组，对象集合</p><p>04.document.querySelector返回值是dom元素，第一个元素</p><p>05.document.querySelectorAll() 得到的是匹配元素的伪数组，即使只能匹配一个，得到的也是伪数组，伪数的长度为1                               // 数组通过遍历 或者索引获取里面的元素。</p><p>06.doucument . body    //返回body元素对象</p><p><span style="color:red">07.doucument.documentElement    //返回html元素对象</span></p><h5 id="自定义属性操作"><a href="#自定义属性操作" class="headerlink" title="自定义属性操作"></a>自定义属性操作</h5><p>element.getAttribute(‘属性’)   获取属性值</p><p>element.setAttribute(‘属性’, ‘值’); 主要针对于自定义属性   </p><p>div.removeAttribute(‘index’);移出属性</p><p><span style="color:red">括弧里面加引号</span></p><h5 id="表单的属性操作"><a href="#表单的属性操作" class="headerlink" title="表单的属性操作"></a>表单的属性操作</h5><p>表单元素中有一些属性如：disabled、checked、selected，元素对象的这些属性的值是布尔型。</p><h5 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h5><p>元素节点    1</p><p>属性节点    2</p><p>文本节点    3</p><p>子节点 vs 子元素节点 ===&gt;子节点可能是 元素 属性 文本</p><p>元素是元素节点，是节点中的一种，但元素节点中可以包含很多的节点。</p><P style="color:red">子元素节点 是  ol  ul 里面的li ,li 里面的内容也会被返回<br>大多数情况下是使用子元素或者父元素节点</P><p>node.parentNode                   返回某一节点的最近的一个父节点，没有则返回null</p><h6 id="子节点"><a href="#子节点" class="headerlink" title="子节点"></a>子节点</h6><p>parentNode.childNodes       返回所有子节点</p><p>parentNode.firstChild       </p><p>parentNode.lastChild</p><h6 id="子元素节点"><a href="#子元素节点" class="headerlink" title="子元素节点"></a>子元素节点</h6><p>parentNode . children             返回所有的子元素节点，它只返回子元素节点（包括里面的内容），其余节点不返回 </p><p>parentNode.firstElmentChild     第一个字元素节点</p><p>parentNode.lastElementChild        最后一个子元素节点</p><p>parentNode.children[0]                    第一个子元素节点</p><p>parentNode.children[parentNode.children.length-1]     最后一个子元素节点</p><h6 id="兄弟节点"><a href="#兄弟节点" class="headerlink" title="兄弟节点"></a>兄弟节点</h6><p>nextSibling                             下一个兄弟节点 包含元素节点或者 文本节点等等</p><p>previousSibling                      上一个兄弟节点</p><p>nextElementSibling                 下一个兄弟元素节点</p><p>previousElementSibling           上一个兄弟元素节点</p><h5 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h5><p>标准盒模型content部分不包含其他部分</p><p>IE盒模型content部分包含了border和padding</p><h5 id="盒子居中的的方法："><a href="#盒子居中的的方法：" class="headerlink" title="盒子居中的的方法："></a>盒子居中的的方法：</h5><p><strong>1、绝对定位法（个人感觉最好用）</strong></p><p>2.<strong>负margin居中（传统方法）</strong></p><p><strong>4、flex居中</strong></p><p><strong>5、transform居中</strong></p><p><strong>6、table-cell居中（最不常用</strong></p><h5 id="flex弹性盒子："><a href="#flex弹性盒子：" class="headerlink" title="flex弹性盒子："></a>flex弹性盒子：</h5><h5 id="class-、className、-classList区别"><a href="#class-、className、-classList区别" class="headerlink" title="class 、className、  classList区别"></a>class 、className、  classList区别</h5><ol><li><p>所有浏览器都支持className属性</p></li><li><p>  className属性返回值是一个<a href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&spm=1001.2101.3001.7020">字符串</a>，内容就是HTML元素的class属性内容。classList属性返回一个包含指定元素所有样式类的<a href="https://so.csdn.net/so/search?q=%E9%9B%86%E5%90%88&spm=1001.2101.3001.7020">集合</a>对象。</p></li><li><p>​     .className的返回值就是包含元素class属性值的字符串。可以用来做判断，也可以用来给某一元素重新赋值，不过会覆盖元素原先的类名，记得把之前的类加上</p></li></ol><p>​            .classList返回值是DOMTokenList类型集合，通过此集合可以非常便利的操作元素class属性。</p><p style="color:red">通过className操作class属性，本质是对字符串的操作，比如判断class是否具有样式类"b"。那么需要自己写代码，将返回的字符串分解为各个样式类，然后再进行判断，相对比较麻烦。如果利用classList属性，那么将是非常轻松愉快的事情，使用<span style="color:red">DOM</span>TokenList集合的contains方法即可实现。</p><p>利用classList返回的集合对象，只需要一个contains方法即可。<br>集合还具有其他方法，分别如下：<br>（1）classList.add()：添加样式类。<br>（2）.item()：返回指定索引的样式类。<br>（3）.remove()：删除指定样式类。<br>（4）.toggle()：切换样式类</p><p>   (5)  .contains( )   是否包含给定类</p><p>​    (6)   . replace(“ select” , “newselect”)     替换类</p><h5 id="setAttribute和add的区别"><a href="#setAttribute和add的区别" class="headerlink" title="setAttribute和add的区别"></a>setAttribute和add的区别</h5><ol><li><p>setAttribute用于创建或改变某个新属性。</p></li><li><p>如果指定属性已经存在,则只设置该值并且会替换原来的值。</p></li><li><p>add方法是添加某个类，不会替换属性中的值，并且需要跟classList使用，因为它是classList的方法。</p></li></ol><p>​             </p><p>eg:      e.target.className == ‘down’</p><h5 id="push-appendchild"><a href="#push-appendchild" class="headerlink" title="push()   appendchild()"></a>push()   appendchild()</h5><h5 id="隐式转换"><a href="#隐式转换" class="headerlink" title="隐式转换"></a>隐式转换</h5><h5 id="change事件"><a href="#change事件" class="headerlink" title=" change事件:"></a><span style=" color:red"> change事件:</span></h5><div style="color:red">change具有改变的意思，change事件会在原数据发生变化的时候触发。<div>该事件仅适用于文本域（text field），以及 textarea 和 select 元素。<p>注释：当用于 select 元素时，change 事件会在选择某个选项时发生。当用于 text field 或 text area 时，该事件会在元素失去焦点时发生。</p><p> $(“.checkall”).change(function() {     //事件（）里面要加function来写</p><h5 id="jquery判断checked的三种方法"><a href="#jquery判断checked的三种方法" class="headerlink" title="jquery判断checked的三种方法:"></a>jquery判断checked的三种方法:</h5><p>.attr(‘checked’):  //看版本1.6+返回:”checked”或”undefined” ;1.5-返回:true或false<br>.prop(‘checked’): //16+:true/false<br>.is(‘:checked’):   //所有版本:true/false//别忘记冒号哦</p><h5 id="jQuery获取未选中的checkbox"><a href="#jQuery获取未选中的checkbox" class="headerlink" title="jQuery获取未选中的checkbox"></a>jQuery获取未选中的checkbox</h5><p> $(‘input[type=checkbox]’).not(“input:checked”);  </p><p>eg：console.log($(“.j-checkbox”).not(“.j-checkbox:checked”))</p><h5 id="jQuery获取选中的checkbox"><a href="#jQuery获取选中的checkbox" class="headerlink" title="jQuery获取选中的checkbox"></a>jQuery获取选中的checkbox</h5><p>$(‘input[type=checkbox]:checked’);</p><p>eg：  console.log($(“.j-checkbox:checked”))     // 返回被选中的元素   $返回一个伪数组</p><p> console.log($(“.j-checkbox:checked”).length)   //返回被选中的元素的个数  </p><h5 id="jQuery中获取索引"><a href="#jQuery中获取索引" class="headerlink" title="jQuery中获取索引"></a>jQuery中获取索引</h5><p> var index = $(this).index()            //  index()  方法可以直接获取指定元素的索引</p><p>DOM中用for循环  把每次的i 赋值给定义的index</p><p>.parents()        //parents() 方法返回被选元素的所有祖先元素。</p><p>.closest()          </p><ul><li>从当前元素开始</li><li>沿 DOM 树向上遍历，并返回匹配所传递的表达式的第一个祖先</li><li>返回包含零个或一个元素的 jQuery 对象</li></ul><p>.trim()</p><p>.toFixed()</p><pre><code>   1.`$(&quot;html&quot;)`选择`html`类型的所有元素。这就是HTML中的根元素。使用~~`$(document)`或                ~~`$(document.documentElement)`也可以做到这一点。</code></pre><ol start="2"><li><p>$(document)是一个选择器，选中的是整个html所有元素的集合。</p><p>$(document).scrollTop()</p></li><li><p> $(window).scroll()检查窗口是否正在滚动经过某个点</p></li></ol><h5 id="window和document的区别"><a href="#window和document的区别" class="headerlink" title="[window和document的区别]"></a>[window和document的区别]</h5><p>[window对象]</p><p>　　它是一个顶层对象,而不是另一个对象的属性，即浏览器的窗口。</p><pre><code>  document 当前显示的文档(该属性本身也是一个对象)</code></pre><h5 id="locaStorage"><a href="#locaStorage" class="headerlink" title="locaStorage"></a>locaStorage</h5><p>localStorage.setItem                    //存储数据  本地存储    . 设置项目</p><p>本地存储：先把数据转为字符串==》存储  ==&gt;转为对象格式==》使用</p><ol><li>本地存储里面只能存储字符串的数据格式 把我们的数组对象转换为字符串格式 JSON.stringify()</li></ol><p>localStorage.setItem(“todo”, JSON.stringify(todolist));</p><ol start="2"><li>获取本地存储的数据 我们需要把里面的字符串数据转换为 对象格式 JSON.parse()</li></ol><p>​    data = JSON.parse(data);  //parse  分析</p><p>append() 操作的是 DOM 节点，push() 操作的是数组。</p><h5 id="appendChild与append区别"><a href="#appendChild与append区别" class="headerlink" title="appendChild与append区别:"></a>appendChild与append区别:</h5><p>（1）ParentNode.append()允许追加 DOMString 对象，而 Node.appendChild() 只接受 Node 对象。</p><p>  (2）ParentNode.append() 没有返回值，而 Node.appendChild() 返回追加的 Node 对象。</p><p>（3）ParentNode.append() 可以追加多个节点和字符串，而 Node.appendChild() 只能追加一个节点。</p><p> //splice(开始索引，删除的长度)  数组删除指定位置的元素 </p><p>jQuery可以绑定多个事件放入同一个对象中，并没有被覆盖</p><p>.attr() 方法设置或返回被选元素的属性值。</p><h5 id="checkbox属性checked-”checked”通过js已设置，但是不勾选？？？？"><a href="#checkbox属性checked-”checked”通过js已设置，但是不勾选？？？？" class="headerlink" title="checkbox属性checked=”checked”通过js已设置，但是不勾选？？？？"></a>checkbox属性checked=”checked”通过js已设置，但是不勾选？？？？</h5><p>给input加了checked就可以了</p><h5 id="媒体适配（范围大于用min-，范围小于用max）"><a href="#媒体适配（范围大于用min-，范围小于用max）" class="headerlink" title="媒体适配（范围大于用min ，范围小于用max）"></a>媒体适配（范围大于用min ，范围小于用max）</h5><p>大于900px的时候，匹配900px 到无限大</p><p>@media screen and (min-width:900px)</p><p>小于900px的时候，匹配0 到900px</p><p>@media screen and (max-width:900px)</p><h5 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h5><p>浅拷贝（shallowCopy）只是增加了一个指针指向已存在的内存地址，</p><p>深拷贝（deepCopy）是增加了一个指针并且申请了一个新的内存，使这个增加的指针指向这个新的内存，</p><h5 id="EM"><a href="#EM" class="headerlink" title="EM"></a>EM</h5><p>em是相对长度单位。相对于当前对象内文本的字体尺寸。如当前对行内文本的字体尺寸未被人为设置，则相对于浏览器的默认字体尺寸</p><ol><li><p>em的值并不是固定的；</p></li><li><p>em会继承父级元素的字体大小。</p></li></ol><h5 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h5><p>使用rem为元素设定字体大小时，仍然是相对大小，但相对的只是HTML根元素</p><h5 id="vw-vh"><a href="#vw-vh" class="headerlink" title="vw   vh"></a>vw   vh</h5><p>vw\vh的介绍？<br>1.什么是vw(Viewport Width)和vh（Viewport Height）？<br>    1.1 vw和vh是前端开发中的一个动态单位，是一个相对于网页视口的单位。<br>    1.2 系统会将视口的宽度和高度分为100份，1vw占用视口宽度的百分之一，1vh占用视口高度的百分之一。<br>    1.3 vw、vh和百分比不同的是，百分比永远都是以父元素为参考，而vw、vh是以视口作为参考。</p><h5 id="立即执行函数之前需要加-分号"><a href="#立即执行函数之前需要加-分号" class="headerlink" title="立即执行函数之前需要加  ;  分号"></a>立即执行函数之前需要加  ;  分号</h5><h5 id="background-size：-contain-与cover的区别："><a href="#background-size：-contain-与cover的区别：" class="headerlink" title="background-size： contain 与cover的区别："></a>background-size： contain 与cover的区别：</h5><ol><li>在no-repeat情况下，如果容器宽高比与图片宽高比不同，</li></ol><p>　cover：图片宽高比不变、铺满整个容器的宽高，而图片多出的部分则会被截掉；</p><p>　contain:图片自身的宽高比不变，缩放至图片自身能完全显示出来，所以容器会有留白区域；</p><p>2.在repeat情况下：cover:与上述相同；contain:容器内至少有一张完整的图，容器留白区域则平铺背景图，铺不下的再裁掉。</p><p>resize 事件是在浏览器窗口大小发生变化时触发，利用该事件可以跟踪窗口大小的变化来动态调整页面的元素显示。</p><p>接下来利用 resize 事件实现一个小案例：<a href="https://so.csdn.net/so/search?q=%E7%9B%91%E5%90%AC&spm=1001.2101.3001.7020">监听</a>浏览器窗口变化，实时获取该窗口的宽度和高度</p><p>  console.log(this)  // 某一个元素</p><p>   console.log($(this))  //一个对象</p><p>   console.log(this.dataset.type)    //直接看 this . type     dataset是自定义属性的获取方法</p><h5 id="flex属性是由flex-grow-flex-shrink-flex-basis这三个属性的缩写"><a href="#flex属性是由flex-grow-flex-shrink-flex-basis这三个属性的缩写" class="headerlink" title="flex属性是由flex-grow, flex-shrink, flex-basis这三个属性的缩写"></a>flex属性是由flex-grow, flex-shrink, flex-basis这三个属性的缩写</h5><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">flex-basis`默认值是`auto`，</span><br><span class="line">`flex-grow`默认值是`0`，</span><br><span class="line">`flex-shrink`默认值是`1</span><br></pre></td></tr></table></figure><h5 id="判断数据类型"><a href="#判断数据类型" class="headerlink" title="判断数据类型"></a>判断数据类型</h5><p><span style="color:red"> console.log(Object.prototype.toString.call(a))</span></p><p>立即执行函数</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="comment">//code</span></span><br><span class="line">&#125;())</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line"><span class="comment">//code</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><h5 id="proto-、prototype返回的都是对象"><a href="#proto-、prototype返回的都是对象" class="headerlink" title="__proto__  、prototype返回的都是对象{}"></a><code>__proto__</code>  、<code>prototype</code>返回的都是对象{}</h5><h5 id="一般来说，公共属性定义在构造函数里面，公共方法定义在原型对象身上"><a href="#一般来说，公共属性定义在构造函数里面，公共方法定义在原型对象身上" class="headerlink" title="一般来说，公共属性定义在构造函数里面，公共方法定义在原型对象身上"></a>一般来说，公共属性定义在构造函数里面，公共方法定义在原型对象身上</h5><h5 id="new操作构造函数生成实例的过程"><a href="#new操作构造函数生成实例的过程" class="headerlink" title="new操作构造函数生成实例的过程"></a>new操作构造函数生成实例的过程</h5><ol><li><p>首先, 当我们使用new操作符时, js会先创建一个空的对象</p></li><li><p>然后, 构造函数中的this指向该空对象</p></li><li><p>其次, 在构造函数中通过操作this, 来给这个空对象赋予相应的属性</p></li><li><p>最后, 返回这个经过处理的”空对象”(此时, 对象已经不是空的了)</p><p>缺点：每创建一个实例都要开辟一个内存空间来存放同一个方法，浪费内存。</p></li></ol><p>原型对象 只开辟一次内存空间，存放多个公共方法，new出来的实例对象都可以直接通过原型链找到 并直接使用</p><p>构造函数 是每调用一次都会在内存中开辟一个新内存来存放同一个方法</p><h5 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h5><p>对象是类的具体表达，类是对象的抽象表达。</p></div></div>]]></content>
    
    
    <summary type="html">&lt;h5 id=&quot;元素获取&quot;&gt;&lt;a href=&quot;#元素获取&quot; class=&quot;headerlink&quot; title=&quot;元素获取&quot;&gt;&lt;/a&gt;元素获取&lt;/h5&gt;&lt;p&gt;01.getElementById(“id”)获取的是元素对象本身 或 null，不是伪数组&lt;/p&gt;
&lt;p&gt;返回：元素对象 或null ，//对象使用节点操作获取&lt;/p&gt;
&lt;p&gt;02.document.getElementsByTagName（“标签名”）返回值是伪数组，&lt;/p&gt;
&lt;p&gt;返回：元素对象的集合 以伪数组形式存储     通过遍历 获取&lt;/p&gt;
&lt;p&gt;getElementById(“id”)和document.getElementsByTagName（“标签名”）搭配使用。&lt;/p&gt;
&lt;p&gt;因为 element.getElementsByTagName()  可以得到这个元素里面的某些标签&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</title>
    <link href="http://example.com/2022/05/07/%E8%B5%B5%E4%B8%BD%E9%A2%96%EF%BC%9A%E6%B2%A1%E6%9C%89%E4%BB%80%E4%B9%88%E9%85%8D%E4%B8%8D%E9%85%8D%EF%BC%8C%E4%BD%A0%E7%9A%84%E5%8A%AA%E5%8A%9B%E5%8F%91%E5%85%89%E4%BA%86%EF%BC%8C%E4%BD%A0%E5%B0%B1%E6%98%AF%E5%80%BC%E5%BE%97%E7%9A%84%EF%BC%81/"/>
    <id>http://example.com/2022/05/07/%E8%B5%B5%E4%B8%BD%E9%A2%96%EF%BC%9A%E6%B2%A1%E6%9C%89%E4%BB%80%E4%B9%88%E9%85%8D%E4%B8%8D%E9%85%8D%EF%BC%8C%E4%BD%A0%E7%9A%84%E5%8A%AA%E5%8A%9B%E5%8F%91%E5%85%89%E4%BA%86%EF%BC%8C%E4%BD%A0%E5%B0%B1%E6%98%AF%E5%80%BC%E5%BE%97%E7%9A%84%EF%BC%81/</id>
    <published>2022-05-07T14:18:01.659Z</published>
    <updated>2022-05-07T15:19:57.808Z</updated>
    
    <content type="html"><![CDATA[<p>网络上为赵丽颖晋身为Dior新代言人，为baby抱屈而打口水仗的人们依旧在评论区喋喋不休。</p><p>网友不是头一次抹黑赵丽颖，也不是第一次对她评头论足。</p><p>他们从来没忘记赵丽颖的中专文凭、农村出身、补刀神手的人设，以及她在时尚界那次长裙美背后却贴小花纸的“土美”事件。</p><p>他们从来没想到她以一张包子脸的长相也能进军时尚界甚至可以开疆辟土，能在颜控大长腿的天下里挤得一席之地。</p><span id="more"></span><p><img src="https://joeybling.github.io/images/2743275-53f4e13ae7bb957c.jpg" alt="img"><br>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>别说喷子们不服，就连那些以颜值、身材傲娇的模特们甚至也要掂量下要不要去拍部剧来充实一下自己的市场含金量。</p><p>也许，不过是因为赵丽颖改变了某些市场主导者的审美标准，也或者因为她让人们看到了属于某种叫做内在因素的美学吸引力。</p><p>在风云突变的娱乐圈子里，令人眼花缭乱的美的形式层出不穷，种种以花瓶自居的美少女美男子更是如过江之鲫。可以说美常有，花瓶亦常有，但是以内在实力让人发现美的内在的，却不常见。</p><p><img src="https://joeybling.github.io/images/2743275-8a989c5bb640f4bf.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>黄渤算是特例，他从来不以帅著称。</p><p>但是他有让人透过“看似抽象的外表”发现其演技魅力的能耐，继而在大大小小的场合，能让人心悦诚服地体会到他妙语连珠舌灿生花的高情商魅力。这大概就属于那种可以满足人们精神需要层次的美了。</p><p><img src="https://joeybling.github.io/images/2743275-4d63302781989ff0.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>周冬雨也算特例，而且特例得很成功。</p><p>作为18岁时就荣升为“谋女郎”的幸运儿，她的演技她的颜值，在进入电影学院以及刚毕业的阶段，都不算是人们口中的佼佼者。甚至在很长一段时间里，人们总能从她刻意扮老的衣着里发现“令人扼腕”的衣品。</p><p>她没有好身材，她也曾自嘲“自己二十四岁的年纪里，有的是十四岁的身材”；她没有欧式大眼睛，她笑起来眼睛眯成一条线的样子的确像自嘲的“小蝌蚪”“小黄鸭”。</p><p><img src="https://joeybling.github.io/images/2743275-d0b5d1c133826c9e.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>可是她知道衣品可以偷偷修炼，演技亦可以让那些吐槽她的人对她黑转粉。</p><p>现在的周冬雨，总能用梨花带雨的哭或明媚如初恋的笑牵引着观众去发现她的灵动、可爱、放肆、潇洒。她是安生、顾胜男、肖红，还是宇宙CP心中念念不忘的“小蝌蚪”。她用角色在无数人心中收获对她别样之美的肯定。</p><p>诚然，她瘦小单薄，不够丰盈饱满。但是她会努力想尽各种办法，去让自己中学时因练舞而壮硕的小腿变瘦再变瘦。于是与别人比，她会胜在肌肤胜雪、会胜在后天小白腿又瘦又直所营造出的纯真干净气质上。所以，懂得适合自己穿衣风格的姑娘，懂得扬长避短的她，终会在可以抱着奖杯时靠衣品靠气质在时尚界锦上添花。</p><p><img src="https://joeybling.github.io/images/2743275-cb84c86409b3303d.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>周冬雨也许可以成为赵丽颖在衣品上征服人心的榜样。她们虽然不够天资卓越，但胜在后天足够努力。尽管她们都曾被人很批过说话耿直情商感人，但是胜在她们都足够心大如海，能把注意力转移到自己钟爱的演技磨砺层面，继而以实力赢得业界尊重。</p><p>这时代，从耀眼高台跌倒下来的明星不胜枚举，在底层逆境中一点一点攀爬努力的演员亦多如星辰。但不管她们处在什么阶段，能够给予她们自信的，永远是自己对所爱事业的追梦执念，和一次次挫败后的执着坚持。</p><p>正所谓“闻道有先后，术业有专攻”。多少演员成为明星，立足的资本，成名的资本，踏入时尚圈的资本，永远是彰显实力的代表作。也就是说，唯有专注于自己的术业，才能脱胎换骨，再上台阶；才能有机会发光发亮，才够得住机会来时的橄榄枝！</p><p>出道十年，赵丽颖从选秀开始奋斗，跑过无数龙套，在扎扎实实的演技磨砺中成就了陆贞、杉杉、花千骨、楚乔等多个被人记到心里的角色，也算是用步步的成就证明了从平凡到华丽蜕变的自我价值。</p><p><img src="https://joeybling.github.io/images/2743275-b650a625da475f1b.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>就算曾经土气又如何，曾经籍籍无名又如何，谁的人生不是在不断修炼中成长?当你拥有一颗坚忍倔强的心，埋首修剪自我的不足时，就没空在乎别人说长道短了。</p><p>就像赵丽颖曾说的，人到一定程度，就不会再计较那么多了；以前会怕这个、怕那个，但是她觉得现在的自己心态很平和，状态也还挺好；对于这些东西就更不在意了。</p><p>正所谓，你若淡看风云，窗前自有云卷云舒的自在；你若似繁花锦绣，周围自有蝴蝶悄然翩跹。</p><p><img src="https://joeybling.github.io/images/2743275-a9e30f2c8ddd5f04.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>诚然，梦想不必过早就实现，也不必实现了就止步于当下。</p><p>我们总有困顿迷惑自我怀疑的时候，就像努力了很多年的前夫哥雷佳音，在出演鹿兆鹏几个月都快要抑郁的时候，等来了陈俊生、裴纶这样一个可以证明自己实力的角色。</p><p><img src="https://joeybling.github.io/images/2743275-8d20f5c9550d4809.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>就像被离婚大战拖累到几乎要完全没有出路的潘粤明，在跨界歌王中唱出了文艺小生的双面挣扎，也让自己有机会被制作方看中可塑性而出演了证明自己炸裂演技的角色“白夜兄弟”。</p><p><img src="https://joeybling.github.io/images/2743275-ecab8a59519a96cf.jpg" alt="img"></p><p>赵丽颖：没有什么配不配，你的努力发光了，你就是值得的！</p><p>我们总有会爬上某个看似自我高峰的时刻，唯有清醒和自省能让自己行远路行得远。</p><p>就像周冬雨的小妞人设演多了，也需要调整战略在别的角色领域里证明自己的可塑性。就像赵丽颖的进阶更上层楼了，也需要在学识修养衣品方面内外兼修裨补缺漏。</p><p>有人说，任何人都不是超人，你的心思放在哪儿是可以看见的。</p><p>当你眼中只有名利时，纵然有一千万中想红想赚快钱的途径，但是如日中天如薛之谦又如何，火箭般翻红的速度，维持的时间却不过是两年。</p><p>当没有创新度的段子梗被他在上百个节目中玩到泛滥时，当没有专情如一的人品来维持深情人设而被昔日恋人李雨桐扒个底朝天的时候，名利来得快走得也快，还顺便把你打倒至众人踩众人唾弃的深渊。</p><p>傅雷说，我们的确是盲目着在世界上前进的。但是当你行走于世越深入，你才发现你的双眼你的灵魂会容易被浮华蔽眼而陷入盲目。</p><p>没有谁不渴望事业成功荣耀加身，但是能救赎我们灵魂的永远是自己可以拿得出手的自己钟爱的作品。</p><p>如好剧本之于演员，好书籍之于作家，好项目之于商人，好工作之于普通人。我们行走江湖的目的，就是用尽自己的全部能耐把本来就好的璞玉打造成臻于完美的玉石。</p><p>至于随之而来的物质累积、名誉傍身，都不过是立足于其上的附加之物。本立则荣加，本无则荣枯。明白这一点，世人眼中关于你的值不值得，都不足以撼动你对自己的肯定。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;网络上为赵丽颖晋身为Dior新代言人，为baby抱屈而打口水仗的人们依旧在评论区喋喋不休。&lt;/p&gt;
&lt;p&gt;网友不是头一次抹黑赵丽颖，也不是第一次对她评头论足。&lt;/p&gt;
&lt;p&gt;他们从来没忘记赵丽颖的中专文凭、农村出身、补刀神手的人设，以及她在时尚界那次长裙美背后却贴小花纸的“土美”事件。&lt;/p&gt;
&lt;p&gt;他们从来没想到她以一张包子脸的长相也能进军时尚界甚至可以开疆辟土，能在颜控大长腿的天下里挤得一席之地。&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>WEB API</title>
    <link href="http://example.com/2022/04/21/WEB-API-DAY4/"/>
    <id>http://example.com/2022/04/21/WEB-API-DAY4/</id>
    <published>2022-04-21T10:26:08.596Z</published>
    <updated>2022-05-05T14:38:56.885Z</updated>
    
    <content type="html"><![CDATA[<h1 id="WEB-API"><a href="#WEB-API" class="headerlink" title="WEB API"></a>WEB API</h1><p>常用得到的键盘事件</p><h3 id="1-1-onkeyup-键盘抬起时触发"><a href="#1-1-onkeyup-键盘抬起时触发" class="headerlink" title="1.1 onkeyup 键盘抬起时触发"></a>1.1 onkeyup 键盘抬起时触发</h3><h3 id="1-2代码实现"><a href="#1-2代码实现" class="headerlink" title="1.2代码实现"></a>1.2代码实现</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(<span class="string">&#x27;keyup&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;键盘弹起&#x27;</span>);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><span id="more"></span><h3 id="2-1onkeydown-键盘按下触发"><a href="#2-1onkeydown-键盘按下触发" class="headerlink" title="2.1onkeydown 键盘按下触发"></a>2.1onkeydown 键盘按下触发</h3><p>那个值还没有输入，事件就被触发了</p><h3 id="2-2代码的实现"><a href="#2-2代码的实现" class="headerlink" title="2.2代码的实现"></a>2.2代码的实现</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(<span class="string">&#x27;keydown&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.<span class="built_in">log</span>(e);</span><br><span class="line">            <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;键盘按下&#x27;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-1onkeypress-键盘按下触发"><a href="#3-1onkeypress-键盘按下触发" class="headerlink" title="3.1onkeypress 键盘按下触发"></a>3.1onkeypress 键盘按下触发</h3><p>keypress不能被功能键识别</p><h3 id="3-2代码实现"><a href="#3-2代码实现" class="headerlink" title="3.2代码实现"></a>3.2代码实现</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(<span class="string">&#x27;keypress&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;我被按下了press&#x27;</span>);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><h3 id="4-三个键盘事件的执行顺序"><a href="#4-三个键盘事件的执行顺序" class="headerlink" title="4.三个键盘事件的执行顺序"></a>4.三个键盘事件的执行顺序</h3><p>keydown –&gt; keypress  —-&gt; keyup</p><p>keydown ，keypress在我们输入键的时候就已经触发事件了</p><h2 id="键盘事件对象之keyCode属性"><a href="#键盘事件对象之keyCode属性" class="headerlink" title="键盘事件对象之keyCode属性"></a>键盘事件对象之keyCode属性</h2><p>键盘事件中对象的keyCode 属性可以得到相应键的ACSSII码值</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(<span class="string">&#x27;keyup&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;up:&#x27;</span> + e.keyCode);</span><br><span class="line">            <span class="keyword">if</span> (e.keyCode === <span class="number">65</span>) &#123;</span><br><span class="line">                alert(<span class="string">&#x27;您按下a键&#x27;</span>)</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                alert(<span class="string">&#x27;您没按下a键&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        document.addEventListener(<span class="string">&#x27;press&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;press:&#x27;</span> + e.keyCode);</span><br><span class="line">            </span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><h2 id="模拟京东按键输入内容"><a href="#模拟京东按键输入内容" class="headerlink" title="模拟京东按键输入内容"></a>模拟京东按键输入内容</h2><p>核心 思路：检测用户是否按下了 s键 ，如果按下了s键就把光标定位到搜索框里面</p><p>代码实现</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> search = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;input&#x27;</span>)</span><br><span class="line">       <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keyup&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">           <span class="comment">//打印出s的ACSII码值 </span></span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">keyCode</span>);  <span class="comment">//s= 83</span></span><br><span class="line">           <span class="keyword">if</span>(e.<span class="property">keyCode</span> == <span class="number">83</span>) &#123;</span><br><span class="line">               search.<span class="title function_">focus</span>()</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;)</span><br></pre></td></tr></table></figure><p>模拟京东快递单号查询 的案例</p><p>核心思路：</p><ol><li><p>快递单号输入内容时, 上面的大号字体盒子(con)显示(这里面的字号更大)</p></li><li><p>表单检测用户输入: 给表单添加键盘事件</p></li><li><p>同时把快递单号里面的值(value)获取过来赋值给 con盒子(innerText)做为内容</p></li><li><p>如果快递单号里面内容为空,则隐藏大号字体盒子(con)盒子</p></li></ol><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取元素</span></span><br><span class="line">        <span class="selector-tag">var</span> con = document<span class="selector-class">.querySelector</span>(<span class="string">&#x27;.con&#x27;</span>)</span><br><span class="line">        <span class="selector-tag">var</span> inputs = document<span class="selector-class">.querySelector</span>(<span class="string">&#x27;.jd&#x27;</span>)</span><br><span class="line">        <span class="comment">//当jd按下时绑定事件</span></span><br><span class="line">        inputs<span class="selector-class">.addEventListener</span>(<span class="string">&#x27;keyup&#x27;</span>,<span class="built_in">function</span>()&#123;</span><br><span class="line">            <span class="comment">//当表单框里面没有内容的时候,con盒子也没有内容 当有内容的时候,</span></span><br><span class="line">            <span class="comment">//内容也会给到con盒子</span></span><br><span class="line">            <span class="built_in">if</span>(this<span class="selector-class">.value</span> == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">                con<span class="selector-class">.style</span><span class="selector-class">.display</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                con<span class="selector-class">.style</span><span class="selector-class">.display</span> = <span class="string">&#x27;block&#x27;</span></span><br><span class="line">                con<span class="selector-class">.innerHTML</span> = this<span class="selector-class">.value</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//jd获得焦点的时候con这个盒子显示</span></span><br><span class="line">        inputs<span class="selector-class">.addEventListener</span>(<span class="string">&#x27;focus&#x27;</span>,<span class="built_in">function</span>()&#123;</span><br><span class="line">            con<span class="selector-class">.style</span><span class="selector-class">.display</span> = <span class="string">&#x27;block&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//jd失去焦点的时候con这个盒子隐藏</span></span><br><span class="line">        inputs<span class="selector-class">.addEventListener</span>(<span class="string">&#x27;blur&#x27;</span>,<span class="built_in">function</span>()&#123;</span><br><span class="line">            con<span class="selector-class">.style</span><span class="selector-class">.display</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><h2 id="BOM顶级对象window"><a href="#BOM顶级对象window" class="headerlink" title="BOM顶级对象window"></a>BOM顶级对象window</h2><p>BOM浏览器对象模型  </p><p>  BOM提供了独立于内容 而与浏览器窗口进行交互的对象；</p><h2 id="window常见的事件"><a href="#window常见的事件" class="headerlink" title="window常见的事件"></a>window常见的事件</h2><h3 id="页面加载事件"><a href="#页面加载事件" class="headerlink" title="页面加载事件"></a>页面加载事件</h3><h4 id="为什么有页面加载事件"><a href="#为什么有页面加载事件" class="headerlink" title="为什么有页面加载事件"></a>为什么有页面加载事件</h4><p>因为 JavaScript 中的函数方法需要在 HTML 文档渲染完成后才可以使用</p><p>如果没有渲染完成,此时的 DOM 树是不完整的,这样在调用一些 JavaScript 代码时就可能报出”undefined”错误</p><h3 id="页面加载事件的方式"><a href="#页面加载事件的方式" class="headerlink" title="页面加载事件的方式"></a>页面加载事件的方式</h3><p>传统的方式window.onload = function(){}</p><p>window.addEventListener (‘load’,function(){})</p><p>window.addEventListener(‘DOMContentLoaded’,function(){})</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">window.onload = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">               <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;1111&#x27;</span>)</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">//第2种 load 表示页面全部加载完毕包含图片,css</span></span><br><span class="line">           window.addEventListener(<span class="string">&#x27;load&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">               <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;222&#x27;</span>);</span><br><span class="line">           &#125;)</span><br><span class="line">           <span class="comment">//第三种   DOMContentLoaded 文档加载完了,DOM树叶加载完了</span></span><br><span class="line">           <span class="comment">//不包含css 图片</span></span><br><span class="line">           document.addEventListener(<span class="string">&#x27;DONContentLoaded&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">               <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;3333&#x27;</span>);</span><br><span class="line">           &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="调整窗口大小事件"><a href="#调整窗口大小事件" class="headerlink" title="调整窗口大小事件"></a>调整窗口大小事件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">           <span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">           <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">               <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;发生了变化&#x27;</span>);</span><br><span class="line">               <span class="comment">//window.innerWidth  获得当前浏览器宽度</span></span><br><span class="line">               <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">innerWidth</span> &lt;= <span class="number">600</span>) &#123;</span><br><span class="line">                   div.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">               &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                   div.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span></span><br><span class="line">               &#125;</span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;)</span><br></pre></td></tr></table></figure><p>resize 事件是在浏<strong>览器窗口被重置时触发的，</strong>如当用户调整窗口大小，或者最大化、最小化、恢复窗口大小显示时触发 resize 事件</p><h2 id="定时器之setTimeout"><a href="#定时器之setTimeout" class="headerlink" title="定时器之setTimeout"></a>定时器之setTimeout</h2><p>1.setTimeout </p><p>​    语法规范:  window.setTimeout(调用函数, 延时时间);</p><ol><li><p>这个window在调用的时候可以省略</p></li><li><p>这个延时时间单位是毫秒 但是可以省略,如果省略默认的是0</p></li><li><p>这个调用函数可以直接写函数 还可以写 函数名 还有一个写法 ‘函数名()’</p></li><li><p>页面中可能有很多的定时器,我们经常给定时器加标识符 (名字)</p></li></ol><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//setTimeout(调用函数,延时时间)</span></span><br><span class="line">       <span class="comment">//第一种写法</span></span><br><span class="line">       setTimeout(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">           <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;时间到给我爆&#x27;</span>);</span><br><span class="line">       &#125;,<span class="number">2000</span>)</span><br><span class="line">       <span class="comment">//第二种写法</span></span><br><span class="line">       <span class="keyword">var</span> fn = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">           <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;我是回调函数&#x27;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">var</span> cb = setTimeout(fn,<span class="number">5000</span>)</span><br><span class="line">       <span class="comment">//这个延时时间是毫秒数,但是可以省略,如果省略默认的是0 </span></span><br><span class="line">       <span class="comment">//浏览器中最小延迟是4ms</span></span><br></pre></td></tr></table></figure><h2 id="清除-clearTimeout定时器"><a href="#清除-clearTimeout定时器" class="headerlink" title="清除 clearTimeout定时器"></a>清除 clearTimeout定时器</h2><p>clearTimeout(定时器名)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>)</span><br><span class="line">      <span class="comment">//开启定时器</span></span><br><span class="line">      <span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;时间到给我爆&#x27;</span>);</span><br><span class="line">      &#125;,<span class="number">2000</span>)</span><br><span class="line">      <span class="comment">//点击的时候清除定时器,在这个延迟事件前我们清除他 他就不会回调了</span></span><br><span class="line">      btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure><h2 id="定时器之setInterval"><a href="#定时器之setInterval" class="headerlink" title="定时器之setInterval"></a>定时器之setInterval</h2><p> 语法规范:  window.setInterval(调用函数, 延时时间);</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.直接写在setInterval里面</span></span><br><span class="line">       setInterval(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">           <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;无敌是多么寂寞&#x27;</span>);</span><br><span class="line">       &#125;,<span class="number">2000</span>)</span><br><span class="line"></span><br><span class="line">       <span class="comment">//2.声明或者表达式 先初始化回调函数 在传入</span></span><br><span class="line">       <span class="keyword">var</span> fn = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">           <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;加油老铁&#x27;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       setInterval(fn,<span class="number">1000</span>)</span><br><span class="line">       <span class="comment">//清除定时器</span></span><br><span class="line">       <span class="comment">//clearInterval(IntervalID)</span></span><br></pre></td></tr></table></figure><h3 id="setTimout与setInterval的区别"><a href="#setTimout与setInterval的区别" class="headerlink" title="setTimout与setInterval的区别"></a>setTimout与setInterval的区别</h3><p>setTimeout 延时时间到了 就执行回调函数，只执行一次</p><p>setInterval 每隔这个延时时间就调用函数，重复执行</p><h2 id="清除setIterval-定时器"><a href="#清除setIterval-定时器" class="headerlink" title="清除setIterval 定时器"></a>清除setIterval 定时器</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> begin = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.begin&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> stop = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.stop&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> timer = <span class="literal">null</span></span><br><span class="line"><span class="comment">//注册点击事件</span></span><br><span class="line">begin.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我来了&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">stop.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="倒计时效果"><a href="#倒计时效果" class="headerlink" title="倒计时效果"></a>倒计时效果</h2><hr><h2 id="发送短信案例"><a href="#发送短信案例" class="headerlink" title="发送短信案例"></a>发送短信案例</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span> btn = document<span class="selector-class">.querySelector</span>(<span class="string">&#x27;button&#x27;</span>)</span><br><span class="line">      <span class="selector-tag">var</span> <span class="selector-tag">time</span> = <span class="number">3</span> <span class="comment">//定义剩下的秒数</span></span><br><span class="line">      btn<span class="selector-class">.addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="built_in">function</span>()&#123;</span><br><span class="line">          <span class="comment">//当按钮绑定点击事件后,开启定时器</span></span><br><span class="line">         timer = <span class="built_in">setInterval</span>(<span class="built_in">function</span>()&#123;</span><br><span class="line">             btn<span class="selector-class">.disable</span> = true</span><br><span class="line">              <span class="built_in">if</span>(<span class="selector-tag">time</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                  <span class="comment">//时间为0 的话恢复按钮,清除定时器</span></span><br><span class="line">                  <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">                  btn<span class="selector-class">.disable</span> = false</span><br><span class="line">                  btn<span class="selector-class">.innerHTML</span> = <span class="string">&#x27;发送&#x27;</span></span><br><span class="line">                  <span class="selector-tag">time</span> = <span class="number">3</span></span><br><span class="line">              &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                  btn<span class="selector-class">.innerHTML</span> = <span class="string">&#x27;还剩下&#x27;</span>+time+<span class="string">&#x27;秒&#x27;</span></span><br><span class="line">                  time--</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;,<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure><h2 id="this的指向问题（重点面试题）"><a href="#this的指向问题（重点面试题）" class="headerlink" title="this的指向问题（重点面试题）"></a><strong>this的指向问题</strong>（重点面试题）</h2><p>1.this在全局作用域和普通函数中的this指向是window（还有定时器中d的this）</p><p>2.方法中this，是调用就是谁</p><p>3.构造函数中this指向new的实例对象</p><p>//new构造寒素</p><p>1，在内存中创建一个空对象</p><p>2.让this指向这个空对象</p><p>3，执行构造函数里面的代码给这个空对象添加属性和方法</p><p>4，返回这个对象（构造函数里面 不需要写return）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">fn</span>();</span><br><span class="line">      <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">      <span class="comment">// 2. 方法调用中谁调用this指向谁</span></span><br><span class="line">      <span class="keyword">var</span> o = &#123;</span><br><span class="line">          <span class="attr">sayHi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">// this指向的是 o 这个对象</span></span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      o.<span class="title function_">sayHi</span>();</span><br><span class="line">      <span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">      <span class="comment">// btn.onclick = function() &#123;</span></span><br><span class="line">      <span class="comment">//     console.log(this); // this指向的是btn这个按钮对象</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">// this指向的是btn这个按钮对象</span></span><br><span class="line"></span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="comment">// 3. 构造函数中this指向构造函数的实例</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">Fun</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">// this 指向的是fun 实例对象</span></span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> fun = <span class="keyword">new</span> <span class="title class_">Fun</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="执行队列"><a href="#执行队列" class="headerlink" title="执行队列"></a>执行队列</h2><h3 id="1-同步任务和异步任务"><a href="#1-同步任务和异步任务" class="headerlink" title="1. 同步任务和异步任务"></a>1. 同步任务和异步任务</h3><p>​    单线程导致的问题就是后面的任务等待前面任务完成，如果前面任务很耗时（比如读取网络数据），后面任务不得不一直等待！！</p><p>​    为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创建多个线程，但是子线程完全受主线程控制。于是，JS 中出现了<strong>同步任务</strong>和<strong>异步任务</strong>。</p><h4 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h4><p>​    前一个任务结束后再执行后一个任务，程序的执行顺序与任务的排列顺序是一致的、同步的。比如做饭的同步做法：我们要烧水煮饭，等水开了（10分钟之后），再去切菜，炒菜。</p><h4 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h4><p>​    你在做一件事情时，因为这件事情会花费很长时间，在做这件事的同时，你还可以去处理其他事情。比如做饭的异步做法，我们在烧水的同时，利用这10分钟，去切菜，炒菜。</p><h2 id="location常见的方法"><a href="#location常见的方法" class="headerlink" title="location常见的方法"></a>location常见的方法</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var btn = document.querySelector(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line"></span><br><span class="line">   btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>() &#123;</span><br><span class="line"></span><br><span class="line">     <span class="regexp">//</span> 记录浏览历史,所以可以实现后退功能</span><br><span class="line"></span><br><span class="line">     <span class="regexp">//</span> location.assign(<span class="string">&#x27;http://www.itcast.cn&#x27;</span>);</span><br><span class="line"></span><br><span class="line">     <span class="regexp">//</span> 不记录浏览历史,所以不可以实现后退功能</span><br><span class="line"></span><br><span class="line">     <span class="regexp">//</span> location.replace(<span class="string">&#x27;http://www.itcast.cn&#x27;</span>);</span><br><span class="line"></span><br><span class="line">     location.reload(true);</span><br><span class="line"></span><br><span class="line">   &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;WEB-API&quot;&gt;&lt;a href=&quot;#WEB-API&quot; class=&quot;headerlink&quot; title=&quot;WEB API&quot;&gt;&lt;/a&gt;WEB API&lt;/h1&gt;&lt;p&gt;常用得到的键盘事件&lt;/p&gt;
&lt;h3 id=&quot;1-1-onkeyup-键盘抬起时触发&quot;&gt;&lt;a href=&quot;#1-1-onkeyup-键盘抬起时触发&quot; class=&quot;headerlink&quot; title=&quot;1.1 onkeyup 键盘抬起时触发&quot;&gt;&lt;/a&gt;1.1 onkeyup 键盘抬起时触发&lt;/h3&gt;&lt;h3 id=&quot;1-2代码实现&quot;&gt;&lt;a href=&quot;#1-2代码实现&quot; class=&quot;headerlink&quot; title=&quot;1.2代码实现&quot;&gt;&lt;/a&gt;1.2代码实现&lt;/h3&gt;&lt;figure class=&quot;highlight arcade&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;document.addEventListener(&lt;span class=&quot;string&quot;&gt;&amp;#x27;keyup&amp;#x27;&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;#x27;键盘弹起&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>hexo</title>
    <link href="http://example.com/2022/04/15/hello-world/"/>
    <id>http://example.com/2022/04/15/hello-world/</id>
    <published>2022-04-15T03:41:12.897Z</published>
    <updated>2022-05-05T13:18:41.508Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
